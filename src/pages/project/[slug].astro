---
import Layout from "../../layouts/Layout.astro";
import { mockProjects } from "../../db/database";
import { ProjectSchema } from "../../types/project";

export const prerender = true;

export async function getStaticPaths() {
	return mockProjects.map((project) => ({
		params: { slug: project.slug },
		props: { project: ProjectSchema.parse(project) },
	}));
}

const { project } = Astro.props;
---

<Layout title={`${project.title} - Susan Buth`}>
	<div class="min-h-screen bg-white">
		<!-- Project Header -->
		<section class="max-w-4xl mx-auto px-6 py-12 text-center">
			<h2 class="text-2xl md:text-2xl font-bold mb-4 uppercase">
				{project.title}
			</h2>
			<p class="text-md text-gray-600 mb-2 uppercase tracking-wide">
				{project.category}
			</p>
			<p class="text-sm text-gray-500">{project.year}</p>
		</section>

		<!-- Project Images -->
		<section class="w-full p-10">
			<div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">
				{
					project.images?.map((image, index) => (
						<div class="w-full">
							<img
								src={image}
								alt={`${project.title} - Image ${index + 1}`}
								class="w-full h-auto rounded-lg shadow-lg"
								loading={index === 0 ? "eager" : "lazy"}
							/>
						</div>
					))
				}
			</div>
		</section>

		<!-- Project Footer -->
		<section>
			<span class="flex justify-center items-center uppercase">[Credits]</span>
			<div class="max-w-4xl mx-auto px-6 py-4 text-center">
				<p class="text-sm text-gray-600 mb-2">
					Models: {project.models.join(", ")}
				</p>
				<p class="text-sm text-gray-600 mb-2">Location: {project.location}</p>
				{
					project.hairAndMakeupBy && (
						<p class="text-sm text-gray-600 mb-2">
							Hair & Makeup: {project.hairAndMakeupBy}
						</p>
					)
				}
				{
					project.stylingBy && (
						<p class="text-sm text-gray-600 mb-2">
							Styling By: {project.stylingBy}
						</p>
					)
				}
				{
					project.stylingAssistanceBy && (
						<p class="text-sm text-gray-600 mb-2">
							Styling Assistance By: {project.stylingAssistanceBy}
						</p>
					)
				}
				{
					project.videoBy && (
						<p class="text-sm text-gray-600 mb-2">
							Video By: {project.videoBy}
						</p>
					)
				}
			</div>
		</section>
	</div>
</Layout>
